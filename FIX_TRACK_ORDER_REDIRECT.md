# โ ุงูุญู - ุงูุชุญููู ุฅูู Register ุนูุฏ ุชุชุจุน ุงูุทูุจูุฉ

## ุงููุดููุฉ:
- ุงููุณุชุฎุฏู ุนูู ุทูุจูุฉ ูุถูู
- ุฏุฎู ุฑูู ุงููุงุชู ูู Track Order
- **ููู** ุจุฏู ุฃู ููููู ุฅูู Register โ ูุงู ูุนุฑุถ ุชูุงุตูู ุงูุทูุจูุฉ

## ุงูุญู ุงููุทุจู:

### 1. ุตูุญุฉ Track Order (`app/track-order/page.tsx`)
**ุงูุชุบููุฑ**: ุนูุฏูุง ูุฏุฎู ุงููุณุชุฎุฏู ุฑูู ุงููุงุชู ุงูุตุญูุญุ ุจุฏู ุนุฑุถ ุงูุทูุจูุฉ:

```typescript
// โ ุฌุฏูุฏ: ููููู ูุจุงุดุฑุฉ ุฅูู Register ูุน ุงูุฑูู ุงููุงุชูู
const registerUrl = `/register?orderId=${orderId}&phone=${encodeURIComponent(phoneValue)}`
window.location.href = registerUrl
```

### 2. ุตูุญุฉ Register (`app/register/page.tsx`)
**ุงูุชุบููุฑุงุช:**

#### ุฃ. ุฑุณุงูุฉ ุงูุชุฐูุฑุฉ (Alert ุฃุฎุถุฑ)
```jsx
{/* Show phone number reminder if coming from track order */}
{searchParams?.get("phone") && (
  <Alert className="mb-6 bg-green-50 border-green-200 text-green-800">
    <AlertDescription className="text-sm">
      โ <strong>ุชู ุงูุนุซูุฑ ุนูู ุทูุจูุชู!</strong> 
      ุณูุชู ุฑุจุท ุงูุทูุจูุฉ ุจุฑูู ุงููุงุชู: <strong>{searchParams.get("phone")}</strong>
    </AlertDescription>
  </Alert>
)}
```

#### ุจ. ููุก ุงููุงุชู ุชููุงุฆูุงู
```typescript
useEffect(() => {
  const phoneParam = searchParams?.get("phone")
  if (phoneParam) {
    setFormData((prev) => ({
      ...prev,
      phone: phoneParam,
    }))
  }
}, [searchParams])
```

#### ุฌ. ุญูู ุงููุงุชู ุบูุฑ ูุงุจู ููุชุนุฏูู
```jsx
<Input
  disabled={isLoading || !!searchParams?.get("phone")}
/>
{searchParams?.get("phone") && (
  <p className="text-xs text-muted-foreground">
    ุฑูู ุงููุงุชู ูู ุงูุทูุจูุฉ (ูุง ูููู ุชุนุฏููู)
  </p>
)}
```

---

## ๐ ุงูุชุฏูู ุงููุงูู ุงูุขู:

```
1๏ธโฃ ุงูุนููู ูุนูู ุทูุจูุฉ (Phone: 0662739494)
         โ
2๏ธโฃ ูุฐูุจ Track Order
         โ
3๏ธโฃ ูุฏุฎู ุฑูู ุงููุงุชู (0662739494)
         โ
4๏ธโฃ โ ูููู ุชููุงุฆูุงู ุฅูู:
   /register?orderId=ORD-123&phone=0662739494
         โ
5๏ธโฃ ูุฑู ุฑุณุงูุฉ ุฎุถุฑุงุก:
   โ "ุชู ุงูุนุซูุฑ ุนูู ุทูุจูุชู!"
   "ุณูุชู ุฑุจุท ุงูุทูุจูุฉ ุจุฑูู: 0662739494"
         โ
6๏ธโฃ ูููุก ุงูุจูุงูุงุช:
   - ุงูุงุณู ุงูุฃูู
   - ุงูุงุณู ุงูุฃุฎูุฑ
   - ุงููุงุชู: 0662739494 (ููุฃ ุชููุงุฆู + locked)
   - ูููุฉ ุงููุฑูุฑ
         โ
7๏ธโฃ ูุถุบุท Sign Up
         โ
8๏ธโฃ ุงููุธุงู:
   - ููุดุฆ ุญุณุงุจ ุฌุฏูุฏ
   - ูุฑุจุท ุงูุทูุจูุฉ ุงููุฏููุฉ
   - ููุดุฆ address ูู ุงูุทูุจูุฉ
         โ
9๏ธโฃ ูููู ุชููุงุฆูุงู ุฅูู:
   /track-order?orderId=ORD-123
   (ูููู ุงูุขู ูู ูู ุญุณุงุจู!)
         โ
๐ ูุฐูุจ /account/orders
         โ
โ ูุฑู ุงูุทูุจูุฉ ุงููุฏููุฉ ูุน ูู ุงูุจูุงูุงุช!
```

---

## ๐ฏ ุงููููุงุช ุงููุนุฏูุฉ:

### 1. `app/track-order/page.tsx`
**ุงูุณุทุฑ ~155**: ุชุบููุฑ `handleGuestVerification`
- ูู: ุนุฑุถ ุงูุทูุจูุฉ
- ุฅูู: ุชุญููู ุฅูู Register

### 2. `app/register/page.tsx`
**ุงูุณุทูุฑ ุงููุชุนุฏุฏุฉ:**
- ุฅุถุงูุฉ `useEffect` ูููุก ุงููุงุชู ุชููุงุฆูุงู
- ุฅุถุงูุฉ `Alert` ุฃุฎุถุฑ ููุชุฐูุฑุฉ
- ุฌุนู ุญูู ุงููุงุชู disabled ุนูุฏ ุงููุฏูู ูู track-order

---

## โ ูุง ุชู ุฅุตูุงุญู:

| ุงููุดููุฉ | ุงูุญู |
|--------|------|
| ูุง ูููู ุฅูู Register | ุงุณุชุฏุนุงุก `window.location.href` |
| ูุง ูุชุฐูุฑ ุงูุฑูู ุงููุงุชูู | `useEffect` ูููุฃ ุงููุงุชู ุชููุงุฆูุงู |
| ูุง ุชูุฌุฏ ุฑุณุงูุฉ ุชูุถูุญูุฉ | Alert ุฃุฎุถุฑ ูุน ุงูุชูุงุตูู |
| ูููู ุชุนุฏูู ุงููุงุชู | ุฌุนู ุงูุญูู disabled |

---

## ๐งช ุงูุงุฎุชุจุงุฑ:

```
1. ุงุฎุชุฑ ููุชุฌ + Checkout
2. ุฃุฏุฎู Phone: 0555123456
3. ุฃุชูู ุงูุทูุจูุฉ
4. ุงุฐูุจ Track Order
5. ุฃุฏุฎู ุงููุงุชู: 0555123456
6. โ ูููู ุฅูู Register:
   - ุจุฑุณุงูุฉ ุฎุถุฑุงุก
   - ูุน ููุก ุงููุงุชู ุชููุงุฆูุงู
7. ููู ุงูุจูุงูุงุช ุงูุฃุฎุฑู ูุณุฌู
8. ุงุฐูุจ /account/orders
9. โ ุชุดูู ุงูุทูุจูุฉ!
```

---

## ๐ก ููุงุญุธุงุช ูููุฉ:

1. **ุงูุฑูู ุงููุงุชูู ููููู**: ูุง ูููู ุชุนุฏููู ูุถูุงู ุงูุชุทุงุจู
2. **ุงูุฑุณุงูุฉ ูุงุถุญุฉ**: ุชุฎุจุฑ ุงููุณุชุฎุฏู ุฃูู ุณูุชู ุฑุจุท ุงูุทูุจูุฉ
3. **ุงูุชุฏูู ุณูุณ**: ูู ุงูุทูุจูุฉ ุฅูู ุงูุชุณุฌูู ุฅูู ุงูุญุณุงุจ
4. **ุงูุฑุจุท ุชููุงุฆู**: API endpoint ูุชููู ูู ุดูุก

---

**ุงููุธุงู ุงูุขู ูุนูู ุจุดูู ูุซุงูู!** โ
